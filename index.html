<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>üöÄ Advanced Report Center</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
      color: #e0e0e0;
      font-family: 'Orbitron', sans-serif;
      margin: 0;
      padding: 40px;
    }
    h1 {
      font-size: 2rem;
      color: #00ffe7;
      display: flex;
      justify-content: space-between;
      align-items: center;
      text-shadow: 0 0 5px #00ffe7;
    }
    button {
      border: none;
      padding: 10px 16px;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      font-family: 'Orbitron', sans-serif;
      transition: background 0.3s;
    }
    .admin-btn {
      background: #00ffe7;
      color: #000;
      box-shadow: 0 0 10px #00ffe7;
    }
    .logout-btn {
      background: #ff3c3c;
      color: white;
      box-shadow: 0 0 10px #ff3c3c;
    }
    .container {
      margin-top: 30px;
    }
    .category {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 15px;
      margin-bottom: 25px;
      overflow: hidden;
    }
    .category-header {
      padding: 20px;
      cursor: pointer;
      background: rgba(255, 255, 255, 0.08);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .category h2 {
      margin: 0;
      color: #00ffe7;
      text-shadow: 0 0 5px #00ffe7;
    }
    .editable {
      display: none;
      padding: 20px;
      white-space: pre-wrap;
      color: #e0e0e0;
    }
    .editable[contenteditable="true"] {
      outline: 2px dashed #00ffe7;
      background: rgba(0, 0, 0, 0.3);
    }
    .copy-btn {
      background: #00bcd4;
      color: #000;
      box-shadow: 0 0 5px #00bcd4;
    }
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <h1>
    üìã Futuristic Report Center
    <span>
      <button class="admin-btn" onclick="toggleEmoji()">üòé Emojis: <span id="emojiState">ON</span></button>
      <button class="admin-btn" onclick="requestAdmin()">üîê Admin</button>
      <button class="logout-btn hidden" id="logoutBtn" onclick="logoutAdmin()">üö™ Logout</button>
    </span>
  </h1>

  <div id="container" class="container"></div>

  <script>
    const emojiMap = {
      ":jigsaw:": "üß©",
      ":gem:": "üíé",
      ":athletic_shoe:": "üëü",
      ":bar_chart:": "üìä",
      ":arrows_counterclockwise:": "üîÑ",
      ":white_check_mark:": "‚úÖ",
      ":large_green_square:": "üü©",
      ":large_blue_square:": "üü¶",
      ":warning:": "‚ö†Ô∏è"
    };

    const categories = [
      "Problem Solve",
      "HRV Sort",
      "Shoes Sort",
      "IDRT",
      "FUD",
      "IOL",
      "Recon",
      "Damageland",
      "IB Dock PS"
    ];

    let isAdmin = localStorage.getItem("admin") === "true";
    let emojiOn = localStorage.getItem("emoji") !== "false";
    const storedReports = JSON.parse(localStorage.getItem("reports") || "{}");

    document.getElementById("emojiState").textContent = emojiOn ? "ON" : "OFF";
    if (isAdmin) document.getElementById("logoutBtn").classList.remove("hidden");

    function replaceShortcodes(text) {
      for (const [code, emoji] of Object.entries(emojiMap)) {
        text = text.split(code).join(emoji);
      }
      return text;
    }

    const container = document.getElementById("container");

    categories.forEach(cat => {
      const contentId = cat.replace(/\s+/g, "_");

      const section = document.createElement("div");
      section.className = "category";

      const header = document.createElement("div");
      header.className = "category-header";

      const h2 = document.createElement("h2");
      h2.textContent = cat;

      const btn = document.createElement("button");
      btn.className = "copy-btn";
      btn.textContent = "üìã Copy";

      header.appendChild(h2);
      header.appendChild(btn);
      section.appendChild(header);

      const text = document.createElement("div");
      text.className = "editable";
      text.id = contentId;
      text.contentEditable = isAdmin;
      let saved = storedReports[contentId] || `[Enter ${cat} Report Here]`;
      text.innerText = emojiOn ? replaceShortcodes(saved) : saved;
      section.appendChild(text);

      btn.onclick = () => {
        navigator.clipboard.writeText(text.innerText).then(() => alert("‚úÖ Copied!"));
      };

      header.onclick = () => {
        const isVisible = text.style.display === "block";
        text.style.display = isVisible ? "none" : "block";
      };

      text.addEventListener("input", () => {
        if (!isAdmin) return;
        const updated = text.innerText;
        storedReports[contentId] = updated;
        localStorage.setItem("reports", JSON.stringify(storedReports));
      });

      container.appendChild(section);
    });

    function toggleEmoji() {
      emojiOn = !emojiOn;
      localStorage.setItem("emoji", emojiOn);
      document.getElementById("emojiState").textContent = emojiOn ? "ON" : "OFF";
      location.reload();
    }

    function requestAdmin() {
      const input = document.createElement("input");
      input.type = "password";
      input.placeholder = "Enter admin password";
      input.style.position = "fixed";
      input.style.top = "50%";
      input.style.left = "50%";
      input.style.transform = "translate(-50%, -50%)";
      input.style.padding = "10px";
      input.style.fontSize = "16px";
      input.style.zIndex = "1000";
      input.style.background = "#111";
      input.style.color = "#00ffe7";
      input.style.border = "2px solid #00ffe7";
      document.body.appendChild(input);
      input.focus();

      input.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
          if (input.value === "Qjuflore1211503") {
            localStorage.setItem("admin", "true");
            location.reload();
          } else {
            alert("‚ùå Incorrect password.");
          }
          document.body.removeChild(input);
        }
      });
    }

    function logoutAdmin() {
      localStorage.removeItem("admin");
      location.reload();
    }
  </script>
</body>
</html>
